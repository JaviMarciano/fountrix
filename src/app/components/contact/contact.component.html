<form [formGroup]="form" class="mt-3" *ngIf="form">
    <div class="form-row">
      <div class="col-md-6 form-group">
        <input type="text" name="name" class="form-control" id="name" placeholder="Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars"
               formControlName="name" [ngClass]="{'is-invalid' : submitted && f.name.errors}" />
        <div class="invalid-feedback">The name is required.</div>
      </div>
      <div class="col-md-6 form-group">
        <input type="email" class="form-control" placeholder="Email" formControlName="email"
               [ngClass]="{'is-invalid' : submitted && f.email.errors}" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"/>
        <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
          <div *ngIf="f.email.errors?.pattern">Not a valid email.</div>
          <div *ngIf="f.email.errors?.required">The email is required.</div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" data-rule="minlen:4"
             formControlName="subject" [ngClass]="{'is-invalid' : submitted && f.subject.errors}" />
      <div class="invalid-feedback">The sibject is required.</div>
    </div>
    <div class="form-group">
      <textarea class="form-control" name="message" rows="5" data-rule="required" placeholder="Message"
                formControlName="message" [ngClass]="{'is-invalid' : submitted && f.message.errors}"></textarea>
      <div class="invalid-feedback">The message is required.</div>
    </div>
    <div class="mb-3">
      <div class="loading" *ngIf="isSubmitingData">Sending...</div>
      <div class="sent-message text-center" *ngIf="success">
        <i class="fas fa-check"></i>
        message sent successfully.
      </div>
    </div>
    <div class="text-center"><button class="btn btn-secondary" (click)="submit()">Send</button></div>
  </form>
  
  
